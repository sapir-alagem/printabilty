{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StripeProvider = StripeProvider;\nexports.initStripe = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NativeStripeSdk = _interopRequireDefault(require(\"../NativeStripeSdk\"));\nvar _helpers = require(\"../helpers\");\nvar _package = _interopRequireDefault(require(\"../../../package.json\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nvar EXPO_PARTNER_ID = 'pp_partner_JBN7LkABco2yUu';\nvar repository = _package.default.repository;\nvar appInfo = {\n  name: (0, _helpers.shouldAttributeExpo)() ? _package.default.name + \"/expo\" : _package.default.name,\n  url: repository.url || repository,\n  version: _package.default.version,\n  partnerId: (0, _helpers.shouldAttributeExpo)() ? EXPO_PARTNER_ID : undefined\n};\nvar initStripe = function () {\n  var _ref = (0, _asyncToGenerator2.default)(function* (params) {\n    var extendedParams = Object.assign({}, params, {\n      appInfo: appInfo\n    });\n    _NativeStripeSdk.default.initialise(extendedParams);\n  });\n  return function initStripe(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.initStripe = initStripe;\nfunction StripeProvider(_ref2) {\n  var children = _ref2.children,\n    publishableKey = _ref2.publishableKey,\n    merchantIdentifier = _ref2.merchantIdentifier,\n    threeDSecureParams = _ref2.threeDSecureParams,\n    stripeAccountId = _ref2.stripeAccountId,\n    urlScheme = _ref2.urlScheme,\n    setReturnUrlSchemeOnAndroid = _ref2.setReturnUrlSchemeOnAndroid;\n  (0, _react.useEffect)(function () {\n    if (!publishableKey) {\n      return;\n    }\n    if (_helpers.isAndroid) {\n      _NativeStripeSdk.default.initialise({\n        publishableKey: publishableKey,\n        appInfo: appInfo,\n        stripeAccountId: stripeAccountId,\n        threeDSecureParams: threeDSecureParams,\n        urlScheme: urlScheme,\n        setReturnUrlSchemeOnAndroid: setReturnUrlSchemeOnAndroid\n      });\n    } else {\n      _NativeStripeSdk.default.initialise({\n        publishableKey: publishableKey,\n        appInfo: appInfo,\n        stripeAccountId: stripeAccountId,\n        threeDSecureParams: threeDSecureParams,\n        merchantIdentifier: merchantIdentifier,\n        urlScheme: urlScheme\n      });\n    }\n  }, [publishableKey, merchantIdentifier, stripeAccountId, threeDSecureParams, urlScheme, setReturnUrlSchemeOnAndroid]);\n  return _react.default.createElement(_react.default.Fragment, null, children);\n}","map":null,"metadata":{},"sourceType":"script"}